# コードスタイルと規約

## 一般的な規約
- **開発ガイドライン**: `AGENTS.md`に詳細な開発ガイドラインが定義されている
- **言語**: 日本語でのドキュメント・コメントを推奨
- **品質重視**: 動くコードだけでなく、品質・保守性・安全性を常に意識
- **ボーイスカウトルール**: コードを見つけた時よりも良い状態で残す

## コーディングスタイル
### Biome設定（biome.json）
- **フォーマッター**: 有効化
  - インデント: スペース
  - クオート: ダブルクォート（JavaScript）
- **リンター**: 有効化（推奨ルール）
- **インポート整理**: 有効化

### TypeScript
- 型ヒントを明示的に使用
- strictモード推奨
- 意味のある変数名・関数名で意図を明確に

## 命名規則
- **変数・関数**: キャメルケース (例: `getMastra`, `createx402Agent`)
- **クラス・型**: パスカルケース (例: `AgentCoreMastraX402Stack`)
- **定数**: アッパースネークケース (環境変数等)
- **ファイル**: ケバブケースまたはパスカルケース
  - コンポーネント: パスカルケース (例: `Weather.tsx`)
  - ユーティリティ: ケバブケース

## コメント規約
- **目的**: 「なぜ」を説明し、「何を」はコードで表現
- **JSDoc**: 公開API、関数、クラスには必須
- **言語**: 日本語コメント可（プロジェクト方針）

## エラーハンドリング
- `@ts-ignore`や`try-catch`での握りつぶしを避ける
- 根本原因を修正する
- 早期にエラーを検出し、明確なエラーメッセージを提供
- 外部API・ネットワーク通信は失敗を考慮

## DRY原則
- 重複を避け、単一の信頼できる情報源を維持
- 共通ロジックは適切に抽出

## セキュリティ
- APIキー、パスワードは環境変数で管理（ハードコード禁止）
- すべての外部入力を検証
- 最小権限の原則に従う

## Git運用
- **コミットメッセージ**: コンベンショナルコミット形式
  - `feat:` 新機能
  - `fix:` バグ修正
  - `docs:` ドキュメント
  - `test:` テスト
  - `refactor:` リファクタリング
  - `chore:` その他
- コミットは原子的で、単一の変更に焦点
